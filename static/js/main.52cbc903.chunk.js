(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{9:function(e,t,n){"use strict";n.r(t);var o=n(2),d=n(3),i=n(5),r=n(4),a=n(8),s=n(1),w=n.n(s),c=n(7),l=n.n(c),u=n(0);window.board=["K","N","R","","","r","n","k"],window.selected=null,window.valids=[],window.turn=0,window.bad="",window.lastboard=["K","N","R","","","r","n","k"],window.getValidMoves=function(e){e=parseInt(e);var t=window.board[e],n=[],o=e,d=t===t.toUpperCase();if(d&&1===window.turn||!d&&0===window.turn)return n;if("k"===t.toLowerCase())(o=e+1)<8&&(""===window.board[o]||window.board[o]===window.board[o].toUpperCase()&&1===window.turn||window.board[o]!==window.board[o].toUpperCase()&&0===window.turn)&&n.push(o),(o=e-1)>-1&&(""===window.board[o]||window.board[o]===window.board[o].toUpperCase()&&1===window.turn||window.board[o]!==window.board[o].toUpperCase()&&0===window.turn)&&n.push(o);else if("n"===t.toLowerCase())(o=e+2)<8&&(""===window.board[o]||window.board[o]===window.board[o].toUpperCase()&&1===window.turn||window.board[o]!==window.board[o].toUpperCase()&&0===window.turn)&&n.push(o),(o=e-2)>-1&&(""===window.board[o]||window.board[o]===window.board[o].toUpperCase()&&1===window.turn||window.board[o]!==window.board[o].toUpperCase()&&0===window.turn)&&n.push(o);else if("r"===t.toLowerCase()){for(o=e+1;o<8&&(""===window.board[o]||window.board[o]===window.board[o].toUpperCase()&&1===window.turn||window.board[o]!==window.board[o].toUpperCase()&&0===window.turn)&&(n.push(o),""===window.board[o]);)o++;for(o=e-1;o>-1&&(""===window.board[o]||window.board[o]===window.board[o].toUpperCase()&&1===window.turn||window.board[o]!==window.board[o].toUpperCase()&&0===window.turn)&&(n.push(o),""===window.board[o]);)o--}for(var i=[].concat(n),r=0;r<n.length;r++){var s=Object(a.a)(window.board);s[n[r]]=t,s[e]="",window.isCheck(s,window.turn)&&i.splice(i.indexOf(n[r]),1)}return i},window.isCheck=function(e,t){for(var n=0;n<8;n++)if(e[n]===(0===t?"K":"k")){if(n+2<8&&e[n+2]===(0===t?"n":"N"))return!0;if(n-2>-1&&e[n-2]===(0===t?"n":"N"))return!0;if(n+1<8&&e[n+1]===(0===t?"k":"K"))return!0;if(n-1>-1&&e[n-1]===(0===t?"k":"K"))return!0;for(var o=1;o<8;o++){if(n+o<8&&e[n+o]===(0===t?"r":"R"))return!0;if(""!==e[n+o])break}for(var d=1;d<8;d++){if(n-d>-1&&e[n-d]===(0===t?"r":"R"))return!0;if(""!==e[n-d])break}}return!1},window.isStalemate=function(){for(var e=[],t=0;t<9;t++){if(8===t)return!0;if("k"!==window.board[t].toLowerCase()&&""!==window.board[t])break}for(var n=0;n<9;n++){if(8===n)return!0;if("r"===window.board[n].toLowerCase())break}for(var o=0;o<8;o++)0===window.turn===(window.board[o]===window.board[o].toUpperCase()&&""!==window.board[o])&&(e=e.concat(window.getValidMoves(o)));return 0===e.length&&!window.isCheck(window.board,window.turn)},window.isCheckmate=function(){for(var e=[],t=0;t<8;t++)0===window.turn===(window.board[t]===window.board[t].toUpperCase()&&""!==window.board[t])&&(e=e.concat(window.getValidMoves(t)));return 0===e.length};var b=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var d;return Object(o.a)(this,n),(d=t.call(this)).clicked=function(){if(window.bad="",d.state.selected){var e=document.createEvent("MouseEvents");e.initEvent("deselectAll",!0,!0),document.dispatchEvent(e)}else if(""!==window.board[d.state.n])if(null===window.selected){window.valids=window.getValidMoves(parseInt(d.state.n)),window.selected=parseInt(d.state.n);var t=document.createEvent("MouseEvents");t.initEvent("validMove",!0,!0),document.dispatchEvent(t),d.setState({selected:!0})}else if(1===(window.board[window.selected]===window.board[window.selected].toUpperCase()^window.board[d.state.n]===window.board[d.state.n].toUpperCase())&&window.valids.indexOf(parseInt(d.state.n))>-1){window.board[d.state.n]=window.board[window.selected],window.board[window.selected]="",window.selected=null,window.turn=(window.turn+1)%2,window.valids=[],d.setState({selected:!1});var n=document.createEvent("MouseEvents");n.initEvent("deselectAll",!0,!0),document.dispatchEvent(n)}else{var o=document.createEvent("MouseEvents");o.initEvent("deselectAll",!0,!0),document.dispatchEvent(o),window.selected=d.state.n,window.valids=window.getValidMoves(d.state.n),d.setState({selected:!0})}else if(window.valids.indexOf(parseInt(d.state.n))>-1){window.board[d.state.n]=window.board[window.selected],window.board[window.selected]="",window.selected=null,window.turn=(window.turn+1)%2,window.valids=[],d.setState({selected:!1});var i=document.createEvent("MouseEvents");i.initEvent("deselectAll",!0,!0),document.dispatchEvent(i)}else{var r=document.createEvent("MouseEvents");r.initEvent("deselectAll",!0,!0),document.dispatchEvent(r)}},d.state={selected:!1,fg:e.n%2===0?"#769656":"#eeeed2",n:e.n},d}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("validMove",(function(){e.setState({selected:!1})})),document.addEventListener("deselectAll",(function(){window.valids=[],e.setState({selected:!1})}))}},{key:"render",value:function(){var e=this,t=window.board[this.state.n],n=this.state.selected?"#baca44":this.state.fg;return""===t?window.valids.indexOf(parseInt(this.state.n))>-1?Object(u.jsx)("td",{style:{backgroundColor:n},onClick:function(){return e.clicked()},id:"sq"+this.state.n,children:Object(u.jsx)("img",{className:"dot",id:"dot",src:"img/dot.png",alt:"available move"})}):Object(u.jsx)("td",{style:{backgroundColor:n},onClick:function(){return e.clicked()},id:"sq"+this.state.n}):window.valids.indexOf(parseInt(this.state.n))>-1?Object(u.jsx)("td",{style:{backgroundColor:n},onClick:function(){return e.clicked()},id:"sq"+this.state.n,children:Object(u.jsxs)("div",{class:"dotDiv",children:[Object(u.jsx)("img",{id:"img",src:"img/"+t.toUpperCase()+(t===t.toUpperCase()?"w":"b")+".png",alt:"chess piece"}),Object(u.jsx)("img",{className:"fdot",id:"dot",src:"img/dot.png",alt:"dot overlay"})]})}):Object(u.jsx)("td",{style:{backgroundColor:n},onClick:function(){return e.clicked()},id:"sq"+this.state.n,children:Object(u.jsx)("img",{id:"img",src:"img/"+t.toUpperCase()+(t===t.toUpperCase()?"w":"b")+".png",alt:"chess piece"})})}}]),n}(w.a.Component),v=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var d;return Object(o.a)(this,n),(d=t.call(this)).reset=function(){window.board=["K","N","R","","","r","n","k"],window.turn=0;var e=document.createEvent("MouseEvents");e.initEvent("deselectAll",!0,!0),document.dispatchEvent(e)},d.state={er:e.text},d}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("deselectAll",(function(){e.setState({er:window.bad})}))}},{key:"render",value:function(){var e=this;return window.isStalemate()?Object(u.jsxs)("p",{id:"warning",children:["Stalemate. ",Object(u.jsx)("span",{id:"restart",onClick:function(){return e.reset()},children:"Click here to restart."})]}):window.isCheckmate()?Object(u.jsxs)("p",{id:"win",children:[0===window.turn?"Black":"White"," has won by checkmate. ",Object(u.jsx)("span",{id:"restart",onClick:function(){return e.reset()},children:"Click here to restart."})]}):Object(u.jsx)("p",{})}}]),n}(w.a.Component),p=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).getPos=function(t,n,o){var d=e.state.board;return d[n]="",d[o]=t,d},e.state={board:["K","N","R","","","r","n","k"]},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("center",{children:[Object(u.jsx)("table",{id:"board",children:Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)(b,{n:"0"}),Object(u.jsx)(b,{n:"1"}),Object(u.jsx)(b,{n:"2"}),Object(u.jsx)(b,{n:"3"}),Object(u.jsx)(b,{n:"4"}),Object(u.jsx)(b,{n:"5"}),Object(u.jsx)(b,{n:"6"}),Object(u.jsx)(b,{n:"7"})]})})}),Object(u.jsx)(v,{text:window.bad})]})}}]),n}(w.a.Component);l.a.render(Object(u.jsx)(p,{}),document.getElementById("root")),document.addEventListener("click",(function(e){if("sq"===e.target.id.substring(0,2)||"img"===e.target.id||"dot"===e.target.id)return!1;var t=document.createEvent("MouseEvents");t.initEvent("deselectAll",!0,!0),document.dispatchEvent(t)}))}},[[9,1,2]]]);
//# sourceMappingURL=main.52cbc903.chunk.js.map